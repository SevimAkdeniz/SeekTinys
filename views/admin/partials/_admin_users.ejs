<h2>ğŸ‘¤ KullanÄ±cÄ± YÃ¶netimi</h2>

<form method="GET" action="/admin" class="filter-controls" style="margin-bottom: 20px;">
  <input type="text" name="username" placeholder="KullanÄ±cÄ± adÄ±" value="<%= filters?.username || '' %>">

  <select id="select" name="role">
    <option value="all" <%= !filters?.role || filters.role === 'all' ? 'selected' : '' %>>TÃ¼m Roller</option>
    <option value="admin" <%= filters?.role === 'admin' ? 'selected' : '' %>>Admin</option>
    <option value="customer" <%= filters?.role === 'customer' ? 'selected' : '' %>>KullanÄ±cÄ±</option>
    <option value="owner" <%= filters?.role === 'owner' ? 'selected' : '' %>>Ev Sahibi</option>
  </select>

  <button type="submit">Filtrele</button>
    <a href="/admin" class="btn  reset">âŒ SÄ±fÄ±rla</a>

</form>

<table>
  <tr>
    <th>KullanÄ±cÄ± AdÄ±</th>
    <th>Email</th>
    <th>Rol</th>
    <th>Ä°ÅŸlem</th>
  </tr>
  <% users.forEach(user=> { %>
    <tr>
      <td><%= user.username %></td>
      <td><%= user.email %></td>
      <td><%= user.role %></td>
      <td>
        <div class="action-buttons">
          
          <form action="/admin/delete-user/<%= user.id %>" method="POST" class="delete-form">
            <button class="btn danger">âŒ Sil</button>
          </form>

          <a href="/admin/edit-user/<%= user.id %>" class="btn primary">âœï¸ DÃ¼zenle</a>

          <form action="/admin/toggle-status/<%= user.id %>" method="POST" style="display: inline;">
            <% if (user.is_active) { %>
              <button class="btn warning">â›” PasifleÅŸtir</button>
            <% } else { %>
              <button class="btn success">âœ… AktifleÅŸtir</button>
            <% } %>
          </form>

        </div>
      </td>
    </tr>
  <% }) %>
</table>
