<html lang="en">

<head>
  <%-include('../inc/head.ejs')%>
</head>

<body>

  <%-include('../inc/nav.ejs')%>

    <h2>🏡 Tiny House İlanları</h2>

    <!-- 🔍 Filtreleme Formu -->
<form method="GET" action="/kiraci/hotels" style="margin-bottom: 20px;">
  <!-- 📍 Konum ve Fiyat -->
  <input type="text" name="location" placeholder="Konum" value="<%= typeof location !== 'undefined' ? location : '' %>" />
  <input type="number" name="minPrice" placeholder="Min ₺" value="<%= typeof minPrice !== 'undefined' ? minPrice : '' %>" />
  <input type="number" name="maxPrice" placeholder="Max ₺" value="<%= typeof maxPrice !== 'undefined' ? maxPrice : '' %>" />

  <br><br>

  <!-- 📍 Özellik Filtreleri (Checkbox) -->
  <label><input type="checkbox" name="has_pool" <%= typeof has_pool !== 'undefined' ? "checked" : "" %> /> Havuz</label>
  <label><input type="checkbox" name="has_wifi" <%= typeof has_wifi !== 'undefined' ? "checked" : "" %> /> Wi-Fi</label>
  <label><input type="checkbox" name="has_parking" <%= typeof has_parking !== 'undefined' ? "checked" : "" %> /> Otopark</label>
  <label><input type="checkbox" name="pet_friendly" <%= typeof pet_friendly !== 'undefined' ? "checked" : "" %> /> Evcil Hayvan</label>
  <label><input type="checkbox" name="has_spa" <%= typeof has_spa !== 'undefined' ? "checked" : "" %> /> Spa</label>
  <label><input type="checkbox" name="has_gym" <%= typeof has_gym !== 'undefined' ? "checked" : "" %> /> Spor Salonu</label>
  <label><input type="checkbox" name="has_sea_view" <%= typeof has_sea_view !== 'undefined' ? "checked" : "" %> /> Deniz Manzarası</label>
  <label><input type="checkbox" name="has_balcony" <%= typeof has_balcony !== 'undefined' ? "checked" : "" %> /> Balkon</label>
  <label><input type="checkbox" name="has_air_conditioning" <%= typeof has_air_conditioning !== 'undefined' ? "checked" : "" %> /> Klima</label>
  <label><input type="checkbox" name="is_all_inclusive" <%= typeof is_all_inclusive !== 'undefined' ? "checked" : "" %> /> Her Şey Dahil</label>

  <br><br>

  <!-- 📍 Tarih Filtreleri -->
  <label>Giriş Tarihi:</label>
  <input type="date" name="start_date" value="<%= typeof start_date !== 'undefined' ? start_date : '' %>" />

  <label>Çıkış Tarihi:</label>
  <input type="date" name="end_date" value="<%= typeof end_date !== 'undefined' ? end_date : '' %>" />

  <br><br>
  <button type="submit">Filtrele</button>
</form>
    <!-- 🏘️ Otel Listesi -->
    <div class="hotel-list" style="display: flex; flex-wrap: wrap; gap: 20px;">
      <% hotels.forEach(hotel=> { %>
        <div class="hotel-card" style="border: 1px solid #ccc; padding: 10px; width: 250px;">
          <img src="<%= hotel.hotel_images?.[0]?.image_path || '/images/default.jpg' %>" alt="Otel Görseli"
            style="width: 100%; height: 150px; object-fit: cover;" />

          <h3>
            <%= hotel.name %>
          </h3>
          <p><strong>Konum:</strong>
            <%= hotel.location %>
          </p>
          <p><strong>Fiyat:</strong>
            <%= hotel.price_per_night %>₺ / gece
          </p>

          <% if (hotel.highlight_1) { %>
            <p>✨ <%= hotel.highlight_1 %>
            </p>
            <% } %>
              <% if (hotel.highlight_2) { %>
                <p>✨ <%= hotel.highlight_2 %>
                </p>
                <% } %>

                  <a href="/kiraci/hotels/<%= hotel.id %>">
                    <button>Detayları Gör</button>
                  </a>
        </div>
        <% }) %>
    </div>





</body>

</html>